(=================================| Automatic Tool Setting Routine |============================)
(=== 		Copyright 2016 ~ Jerry Rutherford ~ Email: jerryarutherford@gmail.com        ===)
(===============================================================================================)
O <tool-offset> SUB
(-----------------------------------------------------------------------------------------------)
	G90 G21 	( ABSOLUTE / METRIC --- Change to G20 and update panel for SAE.		)
	M5  M9		( Make sure the spindle and coolant are switched off.			)
(===========================================| Data Settings |===================================) 
	#1000 = #<_hal[pyvcp.tool-number]>  	(Tool number reported from pyvcp panel 		)
	#1001 = 8.650				(Measured thickness of touch probe		)
(===============================================================================================)
	M6  T  #1000 G43	( Request tool to test with active offsets						)
	G91			( Switch to realitive mode because we don't know actual.	)
	G0 Z5			( Move UP 5mm to be sure we are not on the pad.			)
	G38.4 Z-20 F100 	( Move DOWN 20mm, look for touch pad.				)
	G0 Z1			( Pop up 1mm 							)
	G38.4 Z-10 F10		( Back Down 1/10 speed 						)
	G90			( Contact... back to ABSOLUTE mode.				)
                                ( Now set the level as current plus touch pad thickness		)
(-----------------------------------------------------------------------------------------------)
	G10 L10 P #1000 Z #1001	
(-----------------------------------------------------------------------------------------------)
	G91			( REALITIVE mode for the next move.				)
	G0 Z5			( Move up 5mm just as an indication we are done.		)
	G90			( Contact... back to ABSOLUTE mode.				)
(===============================================================================================)
	M5  M9		( Make sure the spindle and coolant are switched off.			)
	G90 G21 	( ABSOLUTE / METRIC --- Change to G20 and update panel for SAE.		)
	G43		( Update the tool table offsets.					)
(-----------------------------------------------------------------------------------------------)
O <tool-offset> ENDSUB
(===============================================================================================)
